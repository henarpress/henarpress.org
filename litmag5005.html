<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <title>Daweshê</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Lora:ital,wght@0,400;0,500;0,700;1,400&family=Qahiri:wght@400&family=Oswald:wght@500;600;700&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: #1a1a1a;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }
        
        #loader {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background-color: #f5f5f5;
            transition: opacity 0.75s ease-out;
        }

        #loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .main-container {
            border: 8px solid #000;
            height: 100vh;
            overflow: hidden;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .font-serif {
            font-family: 'Lora', serif;
        }
        .font-qahiri {
            font-family: 'Qahiri', sans-serif;
        }
        .font-oswald {
            font-family: 'Oswald', sans-serif;
        }
        .font-amiri {
            font-family: 'Amiri', serif;
        }

        .sidebar {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
        }

        .wavy-text-container {
            position: absolute;
            top: 45%;
            left: -10%;
            width: 120%;
            z-index: 0;
            transform: rotate(-25deg);
            pointer-events: none;
            opacity: 0.85;
            overflow: visible;
            padding: 60px 0;
        }
        
        .marquee {
            display: flex;
            width: fit-content;
            animation: marquee-scroll 120s linear infinite;
            will-change: transform;
        }
        
        .marquee-word {
            font-family: 'Lora', serif;
            font-size: 5rem;
            font-style: italic;
            color: #383838;
            white-space: nowrap;
            padding: 0 2rem;
            text-transform: capitalize;
            display: inline-block;
        }
        
        .marquee-word span {
            display: inline-block;
            animation: wave-anim 2s ease-in-out infinite;
            animation-delay: calc(0.08s * var(--i));
        }
        
        @keyframes marquee-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        @keyframes wave-anim {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-35px);
            }
        }

        #menu-overlay {
            transform: translateY(-100%);
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
            z-index: 40;
        }
        #menu-overlay.open {
            transform: translateY(0);
        }
        .menu-line {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .menu-open .line-1 {
            transform: translateY(8px) rotate(45deg);
        }
        .menu-open .line-2 {
            opacity: 0;
        }
        .menu-open .line-3 {
            transform: translateY(-8px) rotate(-45deg);
        }

        .horizontal-scroll-container {
            overflow-x: auto;
            overflow-y: hidden;
        }

        .horizontal-scroll-container::-webkit-scrollbar {
            display: none;
        }
        .horizontal-scroll-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        #search-overlay {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }
        #search-overlay.open {
            opacity: 1;
            pointer-events: auto;
        }

        .search-result-item {
            transition: background-color 0.2s ease;
        }
        .search-result-item:hover {
            background-color: #f9fafb;
        }

        #search-input:focus {
            outline: none;
        }
    </style>
</head>
<body class="antialiased">

<div id="loader"></div>

<div class="main-container">
    <div class="wavy-text-container">
        <div class="marquee" id="marquee"></div>
    </div>

    <header class="z-50 border-b border-gray-300 bg-[#f5f5f5] relative">
        <div class="px-6 md:px-8">
            <div class="flex justify-between items-center h-24">
                <div class="flex items-center gap-2.5">
                    <span class="text-3xl md:text-5xl font-oswald font-semibold tracking-wide uppercase text-black">
                        DAWESHÊ
                    </span>
                    <img src="sun.png" alt="Kurdish Sun" class="h-8 md:h-10 w-auto">
                    <span class="text-3xl md:text-5xl font-amiri font-bold text-black" style="letter-spacing: 0.02em;" dir="rtl">
                        داوەشێی
                    </span>
                </div>
                
                <div class="flex items-center space-x-6">
                    <button id="search-btn" aria-label="Search" class="text-black hover:opacity-70 transition-opacity">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <button id="menu-btn" class="z-50 space-y-2" aria-label="Open Menu">
                        <span class="block w-8 h-0.5 bg-black menu-line line-1"></span>
                        <span class="block w-8 h-0.5 bg-black menu-line line-2"></span>
                        <span class="block w-8 h-0.5 bg-black menu-line line-3"></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div id="search-overlay" class="fixed inset-0 bg-white z-50">
        <div class="h-full flex flex-col">
            <div class="border-b border-gray-300 px-6 md:px-8 py-6">
                <div class="flex items-center gap-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="Search"
                        class="flex-1 text-2xl font-serif bg-transparent border-none"
                        autocomplete="off"
                    >
                    <button id="close-search" class="text-gray-600 hover:text-black transition-colors" aria-label="Close Search">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto px-6 md:px-8 py-8">
                <div id="search-results"></div>
                <div id="no-results" class="hidden text-center py-16">
                    <p class="text-gray-500 text-lg font-serif">No results found</p>
                </div>
                <div id="initial-state" class="text-center py-16">
                </div>
            </div>
        </div>
    </div>

    <div id="menu-overlay" class="fixed inset-0 bg-[#111111] text-white flex items-center justify-center">
        <nav class="text-center">
            <ul class="space-y-6">
                <li><a href="#" class="text-4xl md:text-6xl font-bold uppercase tracking-wider hover:opacity-70 transition-opacity duration-300">Masthead</a></li>
                <li><a href="#" class="text-4xl md:text-6xl font-bold uppercase tracking-wider hover:opacity-70 transition-opacity duration-300">About</a></li>
                <li><a href="#" class="text-4xl md:text-6xl font-bold uppercase tracking-wider hover:opacity-70 transition-opacity duration-300">Issues</a></li>
                <li><a href="#" class="text-4xl md:text-6xl font-bold uppercase tracking-wider hover:opacity-70 transition-opacity duration-300">People</a></li>
                <li><a href="#" class="text-4xl md:text-6xl font-bold uppercase tracking-wider hover:opacity-70 transition-opacity duration-300">Submissions</a></li>
            </ul>
        </nav>
    </div>

    <div class="flex flex-1 overflow-hidden px-6 md:px-8 py-12 relative">
        <aside class="w-24 flex-shrink-0 hidden md:block relative z-10">
            <div class="sticky top-24">
                <div class="sidebar text-sm uppercase tracking-widest text-gray-400">
                    <a href="https://henarpress.org" class="hover:text-black transition-colors">Henar Press</a>
                </div>
            </div>
        </aside>

        <main class="w-full h-full">
            <div class="flex flex-nowrap overflow-x-auto gap-12 md:gap-16 p-4 snap-x snap-mandatory horizontal-scroll-container h-full">
                
                <article class="flex-shrink-0 w-80 snap-start" data-category="fiction" data-title="The City That Dreams in Our Bones" data-author="Gloria Ogo">
                    <a href="#" class="block overflow-hidden mb-3 border border-gray-200 h-80">
                        <img src="https://placehold.co/600x800/e2e8f0/334155?text=Cover+Art" alt="Cover art for The City That Dreams in Our Bones" class="w-full h-full object-cover ">
                    </a>
                    <h3 class="font-serif text-xs text-gray-500 uppercase tracking-widest">Fiction</h3>
                    <h2 class="font-serif text-xl mt-1 mb-1 leading-tight">
                        <a href="#" class="hover:underline">The City That Dreams in Our Bones</a>
                    </h2>
                    <p class="text-sm text-gray-600">by Gloria Ogo</p>
                </article>

                <article class="flex-shrink-0 w-80 snap-start" data-category="poetry" data-title="Point of Focus" data-author="Aliseen Anne">
                    <a href="#" class="block overflow-hidden mb-3 border border-gray-200 h-80">
                        <img src="https://placehold.co/600x800/d1d5db/1f2937?text=Cover+Art" alt="Cover art for Point of Focus" class="w-full h-full object-cover ">
                    </a>
                    <h3 class="font-serif text-xs text-gray-500 uppercase tracking-widest">Poetry</h3>
                    <h2 class="font-serif text-xl mt-1 mb-1 leading-tight">
                        <a href="#" class="hover:underline">Point of Focus</a>
                    </h2>
                    <p class="text-sm text-gray-600">by Aliseen Anne</p>
                </article>

                <article class="flex-shrink-0 w-80 snap-start" data-category="nonfiction" data-title="The Fourteenth Amendment" data-author="Mervyn Seivwright">
                    <a href="#" class="block overflow-hidden mb-3 border border-gray-200 h-80">
                        <img src="https://placehold.co/600x800/9ca3af/111827?text=Cover+Art" alt="Cover art for Fourteenth Amendment" class="w-full h-full object-cover ">
                    </a>
                    <h3 class="font-serif text-xs text-gray-500 uppercase tracking-widest">Nonfiction</h3>
                    <h2 class="font-serif text-xl mt-1 mb-1 leading-tight">
                        <a href="#" class="hover:underline">The Fourteenth Amendment</a>
                    </h2>
                    <p class="text-sm text-gray-600">by Mervyn Seivwright</p>
                </article>

                <article class="border border-gray-200 p-5 flex flex-col justify-center flex-shrink-0 w-80 snap-start h-80" data-category="interview" data-title="On Craft and Creation" data-author="Jane Doe">
                    <h3 class="font-serif text-xs text-gray-500 uppercase tracking-widest">Interview</h3>
                    <h2 class="font-serif text-xl mt-1 mb-1 leading-tight">
                        <a href="#" class="hover:underline">On Craft and Creation</a>
                    </h2>
                    <p class="text-sm text-gray-600 mb-3">with Author Jane Doe</p>
                    <p class="text-sm text-gray-700 leading-relaxed">"The process is less about finding the right words and more about listening to..."</p>
                </article>

                <article class="flex-shrink-0 w-80 snap-start" data-category="poetry" data-title="Betrayal of Spirit" data-author="John Smith">
                    <a href="#" class="block overflow-hidden mb-3 border border-gray-200 h-80">
                        <img src="https://placehold.co/600x800/f3f4f6/4b5563?text=Cover+Art" alt="Cover art for New Release" class="w-full h-full object-cover ">
                    </a>
                    <h3 class="font-serif text-xs text-gray-500 uppercase tracking-widest">Poetry</h3>
                    <h2 class="font-serif text-xl mt-1 mb-1 leading-tight">
                        <a href="#" class="hover:underline">Betrayal of Spirit</a>
                    </h2>
                    <p class="text-sm text-gray-600">by John Smith</p>
                </article>

                <article class="flex-shrink-0 w-80 snap-start" data-category="fiction" data-title="Real Fruit" data-author="Emily White">
                    <a href="#" class="block overflow-hidden mb-3 border border-gray-200 h-80">
                        <img src="https://placehold.co/600x800/e5e7eb/374151?text=Cover+Art" alt="Cover art for New Release" class="w-full h-full object-cover ">
                    </a>
                    <h3 class="font-serif text-xs text-gray-500 uppercase tracking-widest">Fiction</h3>
                    <h2 class="font-serif text-xl mt-1 mb-1 leading-tight">
                        <a href="#" class="hover:underline">Real Fruit</a>
                    </h2>
                    <p class="text-sm text-gray-600">by Emily White</p>
                </article>
            </div>
        </main>
    </div>
</div>

<script>
    const articles = [
        { category: 'Fiction', title: 'The City That Dreams in Our Bones', author: 'Gloria Ogo' },
        { category: 'Poetry', title: 'Point of Focus', author: 'Aliseen Anne' },
        { category: 'Nonfiction', title: 'The Fourteenth Amendment', author: 'Mervyn Seivwright' },
        { category: 'Interview', title: 'On Craft and Creation', author: 'Jane Doe' },
        { category: 'Poetry', title: 'Betrayal of Spirit', author: 'John Smith' },
        { category: 'Fiction', title: 'Real Fruit', author: 'Emily White' }
    ];

    // Initialize marquee with wavy effect
    function initMarquee() {
        const marquee = document.getElementById('marquee');
        const word = 'shifta';
        const repeatCount = 24;
        
        // Create two identical sets for seamless loop
        for (let set = 0; set < 2; set++) {
            for (let i = 0; i < repeatCount; i++) {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'marquee-word';
                
                // Split word into letters with wave animation
                word.split('').forEach((char, index) => {
                    const charSpan = document.createElement('span');
                    charSpan.style.setProperty('--i', index + (i * word.length));
                    charSpan.textContent = char;
                    wordSpan.appendChild(charSpan);
                });
                
                marquee.appendChild(wordSpan);
            }
        }
    }

    // Initialize on load
    initMarquee();

    window.addEventListener('load', () => {
        const loader = document.getElementById('loader');
        setTimeout(() => {
            loader.classList.add('hidden');
        }, 2000);
    });

    const menuBtn = document.getElementById('menu-btn');
    const menuOverlay = document.getElementById('menu-overlay');
    const searchBtn = document.getElementById('search-btn');
    const searchOverlay = document.getElementById('search-overlay');
    const closeSearchBtn = document.getElementById('close-search');
    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');
    const noResults = document.getElementById('no-results');
    const initialState = document.getElementById('initial-state');

    menuBtn.addEventListener('click', () => {
        menuOverlay.classList.toggle('open');
        menuBtn.classList.toggle('menu-open');
    });

    searchBtn.addEventListener('click', () => {
        searchOverlay.classList.add('open');
        setTimeout(() => searchInput.focus(), 100);
    });

    closeSearchBtn.addEventListener('click', () => {
        searchOverlay.classList.remove('open');
        searchInput.value = '';
        searchResults.innerHTML = '';
        noResults.classList.add('hidden');
        initialState.classList.remove('hidden');
    });

    searchInput.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase().trim();
        
        if (query === '') {
            searchResults.innerHTML = '';
            noResults.classList.add('hidden');
            initialState.classList.remove('hidden');
            return;
        }

        initialState.classList.add('hidden');

        const filtered = articles.filter(article => {
            return article.title.toLowerCase().includes(query) ||
                   article.author.toLowerCase().includes(query) ||
                   article.category.toLowerCase().includes(query);
        });

        if (filtered.length === 0) {
            searchResults.innerHTML = '';
            noResults.classList.remove('hidden');
        } else {
            noResults.classList.add('hidden');
            searchResults.innerHTML = filtered.map(article => `
                <div class="search-result-item border-b border-gray-200 py-6">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <p class="font-serif text-xs text-gray-500 uppercase tracking-widest mb-2">${article.category}</p>
                            <h3 class="font-serif text-2xl mb-2 hover:underline cursor-pointer">${article.title}</h3>
                            <p class="text-sm text-gray-600">by ${article.author}</p>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                        </svg>
                    </div>
                </div>
            `).join('');
        }
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && searchOverlay.classList.contains('open')) {
            closeSearchBtn.click();
        }
        if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
            e.preventDefault();
            searchBtn.click();
        }
    });
</script>
</body>
</html>
